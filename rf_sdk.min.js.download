"use strict";(function(){this.RF;var e="undefined"!=typeof require,t=this.$,a=this.sessionStorage;void 0===t&&(t=this.jQuery),void 0===t&&e&&((t={}).ajax=require("najax"),a=require("localStorage"));var n=function(){var e={},r="https://rf-sb-prod.rtsclients.com/",o="https://api.realfile.rtsclients.com/",s=null,u="https://7jaq4u1svg.execute-api.us-west-2.amazonaws.com/latest/GetUrls?environmentId=d701c668-6df3-46dc-9135-cddb71c86dbd";e.setLogging=function(e){e},e.setQa=function(){r="https://rf-qa.rtsclients.com/",u="https://7jaq4u1svg.execute-api.us-west-2.amazonaws.com/latest/GetUrls?environmentId=510d4c48-12ca-4f6d-9583-064100d62d94",o="https://qa.api.realfile.rtsclients.com/"},e.setDomain=function(e){return!!e&&(a.setItem("rf_domain",e),!0)},e.setAuthTokenGUID=function(e){return!!e&&(a.setItem("rf_authTokenGUID",e),!0)},e.getAuthTokenGUID=function(){return a.getItem("rf_authTokenGUID")},e.getDomain=function(){return a.getItem("rf_domain")},e.deleteDomain=function(){a.removeItem("rf_domain")},e.deleteAuthTokenGUID=function(){a.removeItem("rf_authTokenGUID")},e.setLogging=function(e){e},e.uploadFile=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID","file","parentGUID"],e);if(n.length>0)a("Missing params: "+JSON.stringify(n));else{var o=new FormData,s=(new Date).getTime();o.append("Filename",e.name||e.file.name),o.append("title",e.title||e.file.name),o.append("filePath","/"+(e.name||e.file.name)),o.append("authTokenGUID",e.authTokenGUID),o.append("size",e.file.size),o.append("created",0),o.append("modified",e.file.lastModified||s),o.append("uploaded",s),o.append("processes",0),o.append("parentGUID",e.parentGUID),o.append("file",e.file),t.ajax({url:r+"UploadFile",cache:!1,data:o,processData:!1,contentType:!1,type:"POST",dataType:"text",success:function(e){e?-1!=(e=JSON.parse(e.replace(/\\"/g,'"'))).result.toLowerCase().indexOf("ok")?a(null,e.GUID):"600"==e.code?a("You do not have permission to upload to this folder."):a("Error uploading file."):a("Error uploading file.")},error:function(e,t,n){a("Error uploading file.")}})}};var l=null;function c(e,t){for(var a=[],n=0;n<e.length;n++){var r=e[n];null!==t[r]&&void 0!==t[r]&&""!=t[r]||a.push(r)}return a}function d(e){return e.authTokenGUID||a.getItem("rf_authTokenGUID")}e.getUploadCredentials=function(e,a){if(l)return a(null,l);e.authTokenGUID=d(e);var n=c(["authTokenGUID"],e);if(n.length>0)a("Missing params: "+JSON.stringify(n));else{var r={authTokenGUID:e.authTokenGUID};t.ajax({url:s.GetUploadCredentials,data:r,dataType:"json",type:"GET",success:function(e){"ok"==e.status?(l=e.data,setTimeout(function(){l=null},6e5),a(null,e.data)):a(e.message)},error:function(){a("There was an error ")},global:!1})}},e.getGUID=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID"],e);if(n.length>0)a("Missing params: "+JSON.stringify(n));else{var r={authTokenGUID:e.authTokenGUID};t.ajax({url:s.GetGUID,cache:!1,data:r,processData:!1,contentType:!1,dataType:"json",type:"GET",success:function(e){"ok"==e.status?a(null,r.GUID):a(e.message)},error:function(){a("There was an error ")}})}},e.createFolder=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID","parentGUID","filePath","title"],e);if(n.length>0)a("Missing params: "+JSON.stringify(n));else{var o=(new Date).getTime();t.ajax({url:r+"ProcessFsAction",cache:!1,data:{action:"addFolder",modified:o,created:o,tokenGUID:e.authTokenGUID,title:e.title,filePath:e.filePath,parentGUID:e.parentGUID},dataType:"text",type:"GET",success:function(e){try{-1!=(e=JSON.parse(e)).result.toLowerCase().indexOf("error")?a(e.result.toLowerCase().replace("error","")):a(null,e.GUID)}catch(e){a("Error adding folder.")}},error:function(){a("There was an error adding a folder.")}})}},e.copyFile=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID","parentGUID","fileGUID"],e);n.length>0?a("Missing params: "+JSON.stringify(n)):t.ajax({url:r+"ProcessFsAction",cache:!1,data:{action:"copyObject",GUID:e.fileGUID,tokenGUID:e.authTokenGUID,createAsShortcut:e.shortcut||!1,parentGUID:e.parentGUID},dataType:"text",type:"GET",success:function(e){try{-1!=(e=JSON.parse(e)).result.toLowerCase().indexOf("error")?a(e.result.toLowerCase().replace("error","")):a(null)}catch(e){a("Error copying file.")}},error:function(){a("There was an error copying the file.")}})},e.updateObject=function(a,n){a.authTokenGUID=d(a);var o=c(["authTokenGUID","GUID"],a);o.length>0?n("Missing params: "+JSON.stringify(o)):e.getFSObject(a,function(e,o){e?n("Could not find file or folder to update."):(a.parentGUID=o.parentGUID,a.tokenGUID=a.authTokenGUID,a.action="updateObject",t.ajax({url:r+"ProcessFsAction",cache:!1,data:a,dataType:"text",type:"GET",success:function(e){try{-1!=(e=JSON.parse(e)).result.toLowerCase().indexOf("error")?n(e.result.toLowerCase().replace("error","")):n(null)}catch(e){n("Error updating file or folder.")}},error:function(){n("There was an error updating the file or folder.")}}))})},e.deleteObject=function(a,n){a.authTokenGUID=d(a);var o=c(["authTokenGUID","GUID"],a);o.length>0?n("Missing params: "+o.join(", ")):e.getFSObject(a,function(e,o){if(e)return n(e);t.ajax({url:r+"ProcessFsAction",cache:!1,data:{tokenGUID:a.authTokenGUID,GUID:a.GUID,parentGUID:o.parentGUID,action:"deleteFile"},dataType:"jsonp",type:"GET",success:function(e){-1!=e.result.toLowerCase().indexOf("ok")?n():n(e.result)},error:function(){n("There was an error deleting the file.")}})})},e.getS3Request=function(e,a){e.authTokenGUID=d(e);var r=c(["authTokenGUID","fileGUID"],e);r.length>0?a("Missing params: "+JSON.stringify(r)):(!1!==e.downloadFile&&(e.downloadFile=!0),n.getFSObject({authTokenGUID:e.authTokenGUID,GUID:e.GUID},function(n,r){if(r){var s={authTokenGUID:e.authTokenGUID,fileGUID:e.fileGUID,downloadFile:e.downloadFile};t.ajax({url:o+"GetS3Request",data:s,success:function(e){"ok"==e.status?a(null,{url:e.data,fileType:r.type}):a(null,"There was an error requesting the file.")},error:function(){a("There was an error requesting the file.")}})}else a("Could not preview file")}))},e.uploadComplete=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID","fileGUID","successful"],e);if(n.length>0)a("Missing params: "+JSON.stringify(n));else{var r={fileGUID:e.fileGUID,successful:e.successful,authTokenGUID:e.authTokenGUID};t.ajax({url:s.UploadComplete,cache:!1,data:r,dataType:"json",type:"GET",success:function(e){a(e.message)},error:function(){a("There was an error completing the file upload")},global:!1})}},e.getClientPortalRoot=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID"],e);if(n.length>0)a("Missing params: "+JSON.stringify(n));else{var r={authTokenGUID:e.authTokenGUID};t.ajax({url:s.GetClientPortalRoot,cache:!1,data:r,dataType:"json",type:"GET",success:function(e){"ok"==e.status?a(null,e.data):a(e.message)},error:function(){a("There was an error ")}})}},e.createClientPortal=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID","rootGUID","recipients"],e);if(n.length>0)a("Missing params: "+JSON.stringify(n));else{var r={};r.recipients=JSON.stringify(e.recipients),r.authTokenGUID=e.authTokenGUID,r.rootGUID=e.rootGUID,r.rootFolder=e.rootFolder,r.clientName=e.clientName,r.expiration=e.expiration,t.ajax({url:s.CreateClientPortal,cache:!1,data:r,type:"POST",dataType:"json",success:function(e){a(e.message)},error:function(){a("There was an error ")}})}},e.addNewClient=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID","recipients","clientPortalId"],e);if(n.length>0)a("Missing params: "+JSON.stringify(n));else{var r={};r.recipients=JSON.stringify(e.recipients),r.authTokenGUID=e.authTokenGUID,r.clientPortalId=e.clientPortalId,t.ajax({url:s.AddNewClient,cache:!1,data:r,type:"POST",dataType:"json",success:function(e){a(e.message)},error:function(){a("There was an error ")}})}},e.clientPortalSetPassword=function(e,a){var n=c(["token","email","password"],e);if(n.length>0)a("Missing params: "+JSON.stringify(n));else{var r={};r.email=e.email,r.token=e.token,r.password=e.password,t.ajax({url:s.ClientPortalSetPassword,cache:!1,data:r,type:"POST",dataType:"json",success:function(e){"ok"==e.status?a(null,e.data.redirectUrl):a(e.message)},error:function(){a("There was an error setting your password.")}})}},e.getClientPortals=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID"],e);if(n.length>0)a("Missing params: "+JSON.stringify(n));else{var r={};r.authTokenGUID=e.authTokenGUID,t.ajax({url:s.GetClientPortals,cache:!1,data:r,type:"GET",dataType:"json",success:function(e){"ok"==e.status?a(null,e.data):a(e.message)},error:function(){a("There was an error getting client portals")}})}},e.getClientPortalUsers=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID","clientPortalId"],e);if(n.length>0)a("Missing params: "+JSON.stringify(n));else{var r={};r.authTokenGUID=e.authTokenGUID,r.clientPortalId=e.clientPortalId,t.ajax({url:s.GetClientPortalUsers,cache:!1,data:r,type:"GET",dataType:"json",success:function(e){"ok"==e.status?a(null,e.data):a(e.message)},error:function(){a("There was an error getting client portal users")}})}},e.getRootFolder=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID","clientPortalId","rootGUID","rootFolder"],e);if(n.length>0)a("Missing params: "+JSON.stringify(n));else{var r={};r.authTokenGUID=e.authTokenGUID,r.clientPortalId=e.clientPortalId,r.rootGUID=e.rootGUID,r.rootFolder=e.rootFolder,t.ajax({url:s.GetRootFolder,cache:!1,data:r,type:"GET",dataType:"json",success:function(e){"ok"==e.status?a(null,e.data):a(e.message)},error:function(){a("There was an error getting the root folder")}})}},e.deleteClientPortal=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID","clientPortalId"],e);if(n.length>0)a("Missing params: "+JSON.stringify(n));else{var r={};r.authTokenGUID=e.authTokenGUID,r.clientPortalId=e.clientPortalId,t.ajax({url:s.DeleteClientPortal,cache:!1,data:r,type:"POST",dataType:"json",success:function(e){"ok"==e.status?a(null,e.data):a(e.message)},error:function(){a("There was an error deleting the client portals")}})}},e.deleteClientPortalUser=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID","clientPortalId","userGUID"],e);if(n.length>0)a("Missing params: "+JSON.stringify(n));else{var r={};r.authTokenGUID=e.authTokenGUID,r.clientPortalId=e.clientPortalId,r.userGUID=e.userGUID,t.ajax({url:s.DeleteClientPortalUser,cache:!1,data:r,type:"POST",dataType:"json",success:function(e){"ok"==e.status?a(null,e.data):a(e.message)},error:function(){a("There was an error deleting the client portal user")}})}},e.uploadFileDirect=function(t){t.authTokenGUID=d(t);var a=c(["authTokenGUID","file","parentGUID","uploadStarted","uploadComplete"],t);if(a.length>0)callback("Missing params: "+JSON.stringify(a));else{var n={};async.series([function(a){e.getUploadCredentials({authTokenGUID:t.authTokenGUID},function(e,r){if(e)return t.uploadStarted(e);n.accessKeyId=r.AccessKeyId,n.secretAccessKey=r.SecretAccessKey,n.sessionToken=r.SessionToken,n.region=r.region,n.bucketName=r.bucketName,a()})},function(a){e.addFileUpload({authTokenGUID:t.authTokenGUID,parentGUID:t.parentGUID,name:t.fileName||t.file.name,size:t.file.size.toString(),fileGUID:t.fileGUID},function(e,r){if(e)return t.uploadStarted(e);n.fileGUID=r,t.uploadStarted(null,r),a()})},function(a){AWS.config.update({region:n.region,credentials:new AWS.Credentials({accessKeyId:n.accessKeyId,secretAccessKey:n.secretAccessKey,sessionToken:n.sessionToken})});var r,o=new AWS.S3({apiVersion:"2006-03-01",params:{Bucket:n.bucketName}});r=t.file.lastModified?t.file.lastModified.toString():(new Date).getTime().toString();o.upload({Key:n.fileGUID,Body:t.file,Bucket:n.bucketName,ServerSideEncryption:"AES256",Metadata:{size:t.file.size.toString(),clientGUID:t.clientGUID||"381810c4-dc4c-447d-af8c-d5901ad11b91",userGUID:t.userGUID,modified:r}},function(a,r){a?e.uploadComplete({authTokenGUID:t.authTokenGUID,successful:"false",fileGUID:n.fileGUID},function(e){t.uploadComplete(e)}):e.uploadComplete({authTokenGUID:t.authTokenGUID,successful:"true",fileGUID:n.fileGUID},function(e){t.uploadComplete(null,{GUID:n.fileGUID,fileName:t.fileName||t.file.name})})}).on("httpUploadProgress",function(e){"function"==typeof t.onProgress&&t.onProgress(e)})}])}},e.addFileUpload=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID","parentGUID","name","size"],e);n.length>0?a("Missing params: "+JSON.stringify(n)):t.ajax({url:s.AddFileUpload,type:"POST",dataType:"json",cache:!1,data:e,success:function(e){a(e.message,e.data)},error:function(){a("There was an error adding the file upload.")},global:!1})},e.getTags=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID"],e);n.length>0?a("Missing params: "+JSON.stringify(n)):t.ajax({url:r+"GetTags",cache:!1,data:e,dataType:"jsonp",type:"GET",success:function(e){if(e.status="ok"){for(var t=[],n=0;n<e.tags.length;n++)t.push(e.tags[n].tag);a(null,t)}else a(e.message||"Error getting tags")},error:function(){a("There was an error getting tags.")}})},e.addTag=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID","tag"],e);n.length>0?a("Missing params: "+n.join(", ")):(e.description=e.description||"description",t.ajax({url:r+"AddTag",cache:!1,data:e,dataType:"jsonp",type:"GET",success:function(e){e&&"ok"==e.status?a(null):a("There was an error adding the tags.")},error:function(){a("There was an error adding the tags.")}}))},e.removeTag=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID","tag"],e);n.length>0?a("Missing params: "+n.join(", ")):t.ajax({url:r+"RemoveTag",dataType:"jsonp",type:"GET",data:{authTokenGUID:e.authTokenGUID,tag:e.tag},success:function(e){e.status&&"ok"==e.status?a():a("There was an error removing the tag.")},error:function(e){a("There was an error removing the tag.")}})},e.addTagToFile=function(a,n){a.authTokenGUID=d(a);var o=c(["authTokenGUID","domain","GUID","tag"],a);o.length>0?n("Missing params: "+o.join(", ")):e.getFSObject(a,function(e,o){e?n(e):(tags=o.tags||"[]",tags=JSON.parse(unescape(tags)),-1==tags.indexOf(a.tag)&&tags.push(a.tag),a.action="updateObject",a.name=o.name,a.parentGUID=o.parentGUID,a.sortOrder=o.sortOrder,a.modified=(new Date).getTime(),a.tokenGUID=a.authTokenGUID,a.tags=escape(JSON.stringify(tags)),t.ajax({url:r+"ProcessFsAction",cache:!1,data:a,dataType:"jsonp",type:"GET",success:function(e){null!=e?e.result&&-1!=e.result.toLowerCase().indexOf("ok")&&n(null):n("Error updating tags.")},error:function(){n("There was an error getting FSObject.")}}))})},e.removeTagFromFile=function(a,n){a.authTokenGUID=d(a);var o=c(["authTokenGUID","domain","GUID","tag"],a);o.length>0?n("Missing params: "+o.join(", ")):e.getFSObject(a,function(e,o){if(e)n(e);else{tags=o.tags||"[]",tags=JSON.parse(unescape(tags));var s=tags.indexOf(a.tag);-1!=s&&tags.splice(s,i),a.action="updateObject",a.name=o.name,a.parentGUID=o.parentGUID,a.sortOrder=o.sortOrder,a.modified=(new Date).getTime(),a.tokenGUID=a.authTokenGUID,a.tags=escape(JSON.stringify(tags)),t.ajax({url:r+"ProcessFsAction",cache:!1,data:a,dataType:"jsonp",type:"GET",success:function(e){null!=e?e.result&&-1!=e.result.toLowerCase().indexOf("ok")&&n(null):n("Error updating tags.")},error:function(){n("There was an error getting FSObject.")}})}})},e.setTags=function(a,n){a.authTokenGUID=d(a),a.tags&&(a.tags=encodeURI(JSON.stringify(a.tags)));var o=c(["authTokenGUID","GUID","tags"],a);o.length>0?n("Missing params: "+o.join(", ")):e.getFSObject(a,function(e,o){e?n(e):(a.action="updateObject",a.name=o.name,a.parentGUID=o.parentGUID,a.sortOrder=o.sortOrder,a.modified=(new Date).getTime(),a.tokenGUID=a.authTokenGUID,t.ajax({url:r+"ProcessFsAction",cache:!1,data:a,dataType:"jsonp",type:"GET",success:function(e){null!=e?e.result&&-1!=e.result.toLowerCase().indexOf("ok")&&n(null):n("Error updating tags.")},error:function(){n("There was an error getting FSObject.")}}))})},e.searchFiles=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID"],e);if(n.length>0)a("Missing params: "+n.join(", "));else{var o={tokenGUID:e.authTokenGUID};e.text?o.searchText=e.text:(e.tags&&(o.searchTags=e.tags),e.parentGUID&&(o.folderGUID=e.parentGUID),e.name&&(o.searchName=e.name),e.title&&(o.searchTitle=e.title),e.description&&(o.searchDescription=e.description),e.fileType&&(o.searchType=e.fileType),e.keywords&&(o.searchKeywords=e.keywords),e.size&&(o.searchSize=e.size),e.modified&&(o.searchModified=e.modified),e.created&&(o.searchCreated=e.created),e.documentDate&&(o.searchDocumentDate=e.documentDate)),t.ajax({url:r+"SearchFiles",cache:!1,data:o,dataType:"jsonp",type:"GET",success:function(e){a(null,e)},error:function(){a("There was an error getting your search results.")}})}},e.getFSObject=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID","GUID"],e);n.length>0?a("Missing params: "+n.join(", ")):t.ajax({url:r+"GetObject",cache:!1,data:e,dataType:"jsonp",type:"GET",success:function(e){null!=e?a(null,e):a("Could not get FSObject")},error:function(){a("There was an error getting FSObject.")}})},e.getChildren=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID","parentGUID"],e);if(n.length>0)a("Missing params: "+n.join(", "));else{var o={tokenGUID:e.authTokenGUID,parentGUID:e.parentGUID};t.ajax({url:r+"GetChildren",cache:!1,data:o,dataType:"jsonp",type:"GET",success:function(e){e&&e.children?a(null,e.children):a("Could not get children")},error:function(){a("There was an error getting children.")}})}},e.getColumns=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID","folderId"],e);n.length>0?a("Missing params: "+n.join(", ")):t.ajax({url:o+"GetColumns",data:e,success:function(e){a(e.message,e.data)},error:function(){a("There was an error getting columns.")}})},e.getMetadata=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID","fileId"],e);n.length>0?a("Missing params: "+n.join(", ")):t.ajax({url:o+"GetMetadata",data:e,success:function(e){if(e.message)a(e.message);else{var t=parseInt(e.data.metadata["Date Posted"]);e.data.metadata["Date Posted"]=new Date(t).toLocaleString(),a(e.message,e.data)}},error:function(){a("There was an error getting metadata.")}})},e.saveWidget=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID","folderId","columns"],e);n.length>0?a("Missing params: "+n.join(", ")):t.ajax({url:o+"SaveWidget",data:e,success:function(e){a(e.message)},type:"POST",error:function(){a("There was an error setting columns.")}})},e.setMetadata=function(e,a){e.authTokenGUID=d(e);var n=c(["authTokenGUID","fileId","metadata"],e);n.length>0?a("Missing params: "+n.join(", ")):t.ajax({url:o+"SetMetadata",data:e,success:function(e){a(e.message)},type:"POST",error:function(){a("There was an error setting columns.")}})},e.getWidgetFiles=function(e,a){var n=c([],e);n.length>0?a("Missing params: "+n.join(", ")):t.ajax({url:o+"GetWidgetFiles",data:e,success:function(e){a(e.message,e.data)},type:"GET",error:function(){a("There was an getting widget files.")}})},e.getWidgetFilesArray=function(e,a){var n=c([],e);n.length>0?a("Missing params: "+n.join(", ")):t.ajax({url:o+"GetWidgetFilesArray",data:e,success:function(e){a(e.message,e.data)},type:"POST",error:function(){a("There was an getting widget files.")}})},e.getWidgetFileLink=function(e,a){var n=c([],e);n.length>0?a("Missing params: "+n.join(", ")):t.ajax({url:o+"GetWidgetFileLink",data:e,success:function(e){e.message?a(e.message):a(null,{url:e.data})},type:"GET",error:function(){a("There was an getting widget files.")}})},e.createWidget=function(e,a){var n=c(["authTokenGUID","folderId"],e);n.length>0?a("Missing params: "+n.join(", ")):t.ajax({url:o+"CreateWidget",data:e,success:function(e){a(e.message,e.data)},type:"POST",error:function(){a("There was an getting widget files.")}})},e.makeWidgetPublic=function(e,a){var n=c(["authTokenGUID","folderId"],e);n.length>0?a("Missing params: "+n.join(", ")):t.ajax({url:o+"MakeWidgetPublic",data:e,success:function(e){a(e.message,e.data)},type:"POST",error:function(){a("There was an getting widget files.")}})},e.makeWidgetPrivate=function(e,a){var n=c(["authTokenGUID","folderId"],e);n.length>0?a("Missing params: "+n.join(", ")):t.ajax({url:o+"MakeWidgetPrivate",data:e,success:function(e){a(e.message,e.data)},type:"POST",error:function(){a("There was an getting widget files.")}})},e.widgetLogin=function(e,a){var n=c(["accountGUID","email","password"],e);n.length>0?a("Missing params: "+n.join(", ")):t.ajax({url:o+"WidgetLogin",data:e,success:function(e){a(e.message,e.data)},type:"POST",error:function(){a("There was an error logging in.")}})},e.widgetForgotPassword=function(e,a){var n=c(["accountGUID","email"],e);e.destination=e.destination||window.location.href,n.length>0?a("Missing params: "+n.join(", ")):t.ajax({url:o+"WidgetForgotPassword",data:e,success:function(e){a(e.message,e.data)},type:"POST",error:function(){a("There was an error resetting your password.")}})};var g={};for(var f in e)"setQa"==f?g[f]=e[f]:"function"==typeof e[f]&&(g[f]=p(f));function p(a){return function(){var n=arguments[0],r=arguments[1];!function(e){null!=s?e():t.ajax({url:u,cache:!1,type:"GET",dataType:"json",success:function(t){"ok"==t.status&&(s=t.data,e())}})}(function(){e[a](n,r)})}}return g}();"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports.RF=n):this.RF=n}).call(this);